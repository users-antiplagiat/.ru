$(document).ready((function(){$(".sources table th").find("span[data-sort]").click((function(){var e=$(this),t=e.closest("th").index(),r=e.hasClass("active-order"),i=e.data("sort");$(".main-inner > .report-formatting").length>0&&(setYMFullReportCounter("sources_sorting_by_"+i),setGAFullReportCounter("sources_list","sources_sorting_by_"+i));var n=!0;r?e.hasClass("up")?e.removeClass("up").addClass("down"):(n=!1,e.removeClass("down").addClass("up")):($(".active-order").removeClass("active-order").removeClass("up").addClass("down"),e.addClass("active-order"));var a=t;$(".sources table td").filter((function(){return $(this).index()===a})),$(".sources table td").filter((function(){return $(this).index()===a})).sortElements((function(e,t){if("num"==i){var r=/[^0-9]/;return(a=parseInt($.trim($(e).find("div.num").text()).replace(r,"")))>(s=parseInt($.trim($(t).find("div.num").text()).replace(r,"")))?n?-1:1:n&&a!=s?1:-1}if("percent"==i){r=/%/gi;return(a=parseFloat($.trim($(e).find("div.percent").text()).replace(r,"").replace(",","."))||0)>(s=parseFloat($.trim($(t).find("div.percent").text()).replace(r,"").replace(",","."))||0)?n?-1:1:n&&a!=s?1:-1}if("percentbytext"==i){r=/%/gi;return(a=parseFloat($.trim($(e).find("div.percent-by-text").text()).replace(r,"").replace(",","."))||0)>(s=parseFloat($.trim($(t).find("div.percent-by-text").text()).replace(r,"").replace(",","."))||0)?n?-1:1:n&&a!=s?1:-1}if("name"==i)return(a=$.trim($(e).find("div.name").text().toLowerCase()))>(s=$.trim($(t).find("div.name").text().toLowerCase()))?n?-1:1:n&&a!=s?1:-1;if("date"==i){var a=$.trim($(e).find("i").text()),s=$.trim($(t).find("i").text()),o=new Date(Date.parse(a)),l=new Date(Date.parse(s));return o.getTime()>l.getTime()?n?-1:1:n&&o.getTime()!=l.getTime()?1:-1}if("collection"==i)return(a=$.trim($(e).find("div.collections").text().toLowerCase()))>(s=$.trim($(t).find("div.collections").text().toLowerCase()))?n?-1:1:n&&a!=s?1:-1;if("datepublish"==i){a=$.trim($(e).find("div.date-publish").text().toLowerCase()),s=$.trim($(t).find("div.date-publish").text().toLowerCase());var d=new RegExp("^[0-9]+$"),c=d.test(a),p=d.test(s);if(c&&p)a=parseInt(a,10)||null,s=parseInt(s,10)||null;else if(c||p)return c&&n?-1:1;return a>s?n?-1:1:n&&a!=s?1:-1}if("blocks"==i){r=/[^0-9]/;return(a=parseInt($.trim($(e).find("div.cite-blocks-by-report").text()).replace(r,"")))>(s=parseInt($.trim($(t).find("div.cite-blocks-by-report").text()).replace(r,"")))?n?-1:1:n&&a!=s?1:-1}if("blocksbytext"==i){r=/[^0-9]/;return(a=parseInt($.trim($(e).find("div.cite-blocks-by-text").text()).replace(r,"")))>(s=parseInt($.trim($(t).find("div.cite-blocks-by-text").text()).replace(r,"")))?n?-1:1:n&&a!=s?1:-1}}),(function(){return this.parentNode})),$(".sources-list .scroll-area").animate({scrollTop:0},200,(function(){}))}))}));