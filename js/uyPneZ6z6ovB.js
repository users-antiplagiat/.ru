function clearFormFields(e,t){e.find("input[type=text], input[type=password], input[type=hidden], input[type=number], input[type=email], textarea").val(""),null!=t||(t=!1),t&&e.find(".alert-error, .alert-success").text("").hide()}function clearFormErrors(e){e.find(".alert-error, .alert-success").text("").hide()}function roundNum(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function roundPercentInt(e){var t=parseInt(roundNum(e,0),10);return 0==t&&e>0?1:100==t&&e<100?99:t}function showShortDate(e,t){if(null!=t||(t=!1),t){var o=60*e.getTimezoneOffset()*1e3;e=new Date(e.getTime()+o)}return("0"+e.getDate()).slice(-2)+"."+("0"+(e.getMonth()+1)).slice(-2)+"."+e.getFullYear()}function showFullDate(e,t){if(null!=t||(t=!1),t){var o=60*e.getTimezoneOffset()*1e3;e=new Date(e.getTime()+o)}return("0"+e.getDate()).slice(-2)+"."+("0"+(e.getMonth()+1)).slice(-2)+"."+("000"+e.getFullYear()).slice(-4)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}function showCommentDate(e,t){if(null!=t||(t=!1),t){var o=60*e.getTimezoneOffset()*1e3;e=new Date(e.getTime()+o)}return("0"+e.getDate()).slice(-2)+"."+("0"+(e.getMonth()+1)).slice(-2)+"."+("0"+e.getFullYear()).slice(-2)+"  "+$.localize_report("at","~/wwwroot/js/common/functions.js")+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}function showDate(e,t){if(null!=t||(t=!1),t){var o=60*e.getTimezoneOffset()*1e3;e=new Date(e.getTime()+o)}return("0"+e.getDate()).slice(-2)+" "+$monthNames[e.getMonth()]+" "+e.getFullYear()}function showDateTime(e,t,o){if(null!=t||(t=!1),t){var i=60*e.getTimezoneOffset()*1e3;e=new Date(e.getTime()+i)}return null!=o||(o=!0),("0"+e.getDate()).slice(-2)+" "+$monthNames[e.getMonth()]+" "+e.getFullYear()+(o?"<br/>":" ")+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}function showTimeLeft(e){var t="",o=Math.floor(e/864e5);e-=864e5*o;var i=Math.floor(e/36e5);e-=36e5*i;var n=Math.floor(e/6e4);e-=6e4*n;var a=Math.floor(e/1e3);return e-=1e3*a,o>0?t+=" "+o+" "+$.localize_report("d","~/wwwroot/js/common/functions.js")+".":(i>0&&(t+=" "+i+" "+$.localize_report("h","~/wwwroot/js/common/functions.js")+"."),n>0&&(t+=" "+n+" "+$.localize_report("min","~/wwwroot/js/common/functions.js")+"."),a>0&&(t+=" "+a+" "+$.localize_report("sec","~/wwwroot/js/common/functions.js")+".")),0==t.replace(" ","").length&&(t+=" 1 "+$.localize_report("sec","~/wwwroot/js/common/functions.js")+"."),t}function showTime(e){e-=864e5*Math.floor(e/864e5);var t=Math.floor(e/36e5);e-=36e5*t;var o=Math.floor(e/6e4);e-=6e4*o;var i=Math.floor(e/1e3);return("0"+t).slice(-2)+":"+("0"+o).slice(-2)+":"+("0"+i).slice(-2)}function showDayTimeLeft(e){var t=Math.floor(e/864e5);e-=864e5*t;var o=Math.floor(e/36e5);e-=36e5*o;var i=Math.floor(e/6e4);return e-=6e4*i,("00"+t).slice(-3)+$.localize_report("d","~/wwwroot/js/common/functions.js")+" "+("0"+o).slice(-2)+$.localize_report("h","~/wwwroot/js/common/functions.js")+" "+("0"+i).slice(-2)+$.localize_report("m","~/wwwroot/js/common/functions.js")}function showShortTime(e){e-=864e5*Math.floor(e/864e5),e-=36e5*Math.floor(e/36e5);var t=Math.floor(e/6e4);e-=6e4*t;var o=Math.floor(e/1e3);return("0"+t).slice(-2)+":"+("0"+o).slice(-2)}function isValidDate(e){return"[object Date]"===Object.prototype.toString.call(e)&&(!isNaN(e.getTime())||void console.log("date is not valid"))}function byField(e){return function(t,o){return t[e]>o[e]?1:-1}}function validateTextLongInRange(e){var t=parseInt(e,10);return!isNaN(t)&&t>=0&&t<=Number.MAX_VALUE}function validateTextIntInRange(e){var t=parseInt(e,10);return!isNaN(t)&&t>=0&&t<=2147483647}function validateEmail(e){if(null==e)return!1;return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))(\.?)@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/gi.test(e)}function validateDate(e){return/^(((0[1-9]|[12]\d|3[01])\.(0[13578]|1[02])\.((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\.(0[13456789]|1[012])\.((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\.02\.((19|[2-9]\d)\d{2}))|(29\.02\.((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$/g.test(e)}function validateName(e){return e.match(/^[^;><=\+&%#@\[\]\{\}~`\u00A9\u00AE*\\]+$/gi)}function clearFileName(e){return e.replace(/[;><=\+&%#@\[\]\{\}~`\u00A9\u00AE*\\]/gi,"_")}function quoteAttr(e,t){return t=t?"&#13;":"\n",(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,t).replace(/[\r\n]/g,t)}function getNumEnding(e,t){var o="";if((e=Math.abs(e)%100)>=11&&e<=19)o=t[2];else switch(e%10){case 1:o=t[0];break;case 2:case 3:case 4:o=t[1];break;default:o=t[2]}return o}function getUrlVars(e){var t,o=[];if(null==e&&(e=window.location.href),-1==e.indexOf("?"))return o;for(var i=e.slice(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++){t=i[n].split("=");var a=decodeURIComponent(t[0]),l=decodeURIComponent(t[1]);o.push(a),o[a]=l}return o}function getUrlPath(){return window.location.pathname}function getUrlBase(){return location.protocol.split(":")[0]+"://"+location.host}function pad(e,t,o){return o=o||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(o)+e}function updatePagingUrl(e,t,o){var i=(window.history.location||window.location,getUrlBase()),n=getUrlPath(),a=getUrlVars(),l=i+n;if(null!=a.page||a.push("page"),a.page=e,t)null!=a.showAll||a.push("showAll"),a.showAll=t;else{var r=a.indexOf("showAll");-1!=r&&a.splice(r,1)}o&&o(a),a.length>0&&(l+="?",$.each(a,(function(e,t){l+=t+"="+a[t]+"&"})),l=l.substring(0,l.length-1)),window.history.pushState(null,"",l)}function endsWith(e,t){return-1!==e.indexOf(t,e.length-t.length)}function htmlEscape(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlUnescape(e){return e.replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function updateQueryStringParameter(e,t,o){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),n=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+o+"$2"):e+n+t+"="+o}function runOnce(e){var t=0;return function(){1==++t&&e.apply(this,arguments)}}function checkOcrLanguagesSelected(e,t){var o=$("#dialog-file-upload .alert-error, #dialog-file-upload .alert-info-error, #dialog-batch-upload .alert-error");if(0!=$(".file-upload-languages").length&&(null!=e||(e=$.localize_report("Can't start to check, because no ocr languages has been selected.","~/wwwroot/js/common/functions.js")),null!=t||(t=$.localize_report("Can't start to check, because more then 3 ocr languages has been selected.","~/wwwroot/js/common/functions.js")),!o.is(":visible")||o.text()==e||o.text()==t||!$(".ap-dialog-file-upload .ui-dialog-buttonpane button:eq(1)").hasClass("ui-state-disabled"))){if($(".file-upload-languages").is(":hidden"))return o.text("").hide(),void $(".ap-dialog-file-upload .ui-dialog-buttonpane button:eq(1)").removeAttr("disabled").removeClass("ui-state-disabled");var i=$(".file-upload-languages").find("input[type='checkbox']"),n=i.filter(":checked").length>0,a=i.filter(":checked").length<4;if(n&&a){if(!o.is(":visible")||o.text()!=e&&o.text()!=t||o.text("").hide(),!$(".ap-dialog-file-upload .ui-dialog-buttonpane button:eq(1)").hasClass("ui-state-disabled"))return;$(".ap-dialog-file-upload .ui-dialog-buttonpane button:eq(1)").removeAttr("disabled").removeClass("ui-state-disabled")}else{var l=n?t:e;if($(".ap-dialog-file-upload .ui-dialog-buttonpane button:eq(1)").hasClass("ui-state-disabled"))return;$(".ap-dialog-file-upload .ui-dialog-buttonpane button:eq(1)").attr({disabled:"disabled"}).addClass("ui-state-disabled"),o.is(":visible")||o.text(l).show()}}}function checkCollectionOcrLanguagesSelected(){checkOcrLanguagesSelected($.localize_report("Unable to start the upload, because no ocr languages has been selected.","~/wwwroot/js/common/functions.js"),$.localize_report("Unable to start the upload, because more then 3 ocr languages has been selected.","~/wwwroot/js/common/functions.js"))}function setManualTooltip(){$(".general a.manual").qtip({content:{text:function(e){return $(this).attr("title")}},style:{classes:"qtip-ux",tip:!0},position:{my:"center left",at:"center right",adjust:{y:0,x:0}},show:{event:"mouseover"},hide:{event:"mouseout"}})}function setYMCounter(e,t,o){"function"==typeof ym&&(null!=o||(o="reachGoal"),void 0!==e&&null!=e&&ym(e,o,t))}function setGACounter(e,t,o,i,n){"function"==typeof ga&&void 0!==e&&null!=e&&ga(e+".send","event",t,o,i,n)}function setTargetCounters(e,t){"undefined"!=typeof $yaCounter&&setYMCounter($yaCounter,e,t)}function setYMSummaryReportCounter(e,t){"undefined"!=typeof $yaSummaryReportCounter&&setYMCounter($yaSummaryReportCounter,e,t)}function setGASummaryReportCounter(e,t,o,i){"undefined"!=typeof $gaSummaryReportCounter&&setGACounter($gaSummaryReportCounter,e,t,o,i)}function setYMFullReportCounter(e,t){"undefined"!=typeof $yaFullReportCounter&&setYMCounter($yaFullReportCounter,e,t)}function setGAFullReportCounter(e,t,o,i){"undefined"!=typeof $gaFullReportCounter&&setGACounter($gaFullReportCounter,e,t,o,i)}function copyToClipboard(e){var t=$("<input>");$("body").append(t),t.val(e).select(),document.execCommand("copy"),t.remove()}function encodeURIComponentWithUnescaped(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}jQuery.fn.onlyDigits=function(){var e;$("<span></span>").insertAfter(this);var t=$(this).next("span").hide();return $(this).each((function(){$(this).keydown((function(t){return 86==(e=function(e){return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),e.which}(t))&&t.ctrlKey||224==e&&t.metaKey||8==e||9==e||46==e||e>=37&&e<=40&&32!==e||e>=48&&e<=57||e>=96&&e<=105})).keyup((function(e){var o=this.value.replace(/\s+/,"-");isNaN(o)?$(this).val(t.text()):t.empty().append(o)}))}))},function(e){e.each(["show","hide"],(function(t,o){var i=e.fn[o];e.fn[o]=function(){return this.trigger(o),i.apply(this,arguments)}}))}(jQuery),jQuery.fn.loader=function(e){function t(){var e=$(window).height(),t=$(window).scrollTop(),o=m.parent().offset().top,i=m.parent().outerHeight(),n=m.parent().offset().left,a=m.parent().outerWidth(),l=o-t;l=l<0?0:l;var r=t+e-(i+o);r=r<0?0:r;var s=n;m.css({position:"fixed",top:l+"px",bottom:r+"px",left:s+"px",right:"auto",width:a+"px"})}function o(){a.fixed&&t();var e="<div class='loader-image' style='width: "+r+"px; height: "+s+"px; background-image: url("+d+")'></div>";m.prepend(e),FPS=Math.round(100/l),g=1/FPS,f=setTimeout(i,g/1e3)}function i(){h+=u,(p+=1)>=c&&(h=0,p=0),m.find(".loader-image").css("background-position",-h+"px 0px"),f=setTimeout(i,1e3*g)}function n(e,t){clearTimeout(f),f=0,genImage=new Image,genImage.onload=function(){f=setTimeout(t,0)},genImage.onerror=new Function("alert('Could not load the image')"),genImage.src=e}var a=$.extend({},{color:"blue",fixed:!1,offsetX:0},e),l=4,r=200,s=200,c=20,u=200,d="/img/icons/loader-sprites-"+a.color+".png",f=!1,p=0,h=0,g=0,m=$(this);m.on("show",(function(){new n(d,o)})),m.on("hide",(function(){clearTimeout(f),f=0,m.find(".loader-image").remove()})),$(window).scroll((function(){a.fixed&&t()})),$(window).resize((function(){a.fixed&&t()}))};var $lockExternalUrl=!1;jQuery.fn.externalUrl=function(){this.each((function(){var e=$(this);e.click((function(t){t.preventDefault(),t.stopPropagation();var o=$("#dialog-external-url"),i=o.find(".loading"),n=o.find("#dialog-external-url .alert-error");n.hide();var a=e.attr("data-hash");o.dialog({autoOpen:!1,resizable:!1,modal:!0,draggable:!1,autoresize:!0,dialogClass:"ap-dialog-confirm ap-dialog-external-url",buttons:[{text:$.localize_report("Follow this link","~/wwwroot/js/common/plugins.js"),click:function(){n.text("").hide(),window.open($reportApi+"go?to="+a+"&next=do","_blank"),o.dialog("close")}},{text:$.localize_report("Cancel","~/wwwroot/js/common/plugins.js"),click:function(){$lockExternalUrl||$(this).dialog("close")}}],open:function(){$(".ap-dialog-external-url .ui-dialog-buttonpane, .ap-dialog-external-url .ui-dialog-titlebar").hide(),$(".ap-dialog-external-url .ui-dialog-buttonpane button:eq(0)").attr({disabled:"disabled"}).addClass("ui-state-disabled"),jQuery(".ui-widget-overlay").bind("click",(function(){$lockExternalUrl||o.dialog("close")}))},beforeClose:function(){if($lockExternalUrl)return!1},close:function(){n.text("").hide(),i.hide()},width:700,minHeight:422,closeText:$.localize_report("Close","~/wwwroot/js/common/plugins.js")}),$(".external-url").hide(),n.text("").hide(),i.show(),o.dialog("open"),$.ajax({type:"GET",url:$reportApi+"go?to="+a,dataType:"json",timeout:6e4,success:function(e,t){$lockExternalUrl=!1,i.hide(),$(".ap-dialog-external-url .ui-dialog-buttonpane button:eq(0)").removeAttr("disabled").removeClass("ui-state-disabled"),$(".ap-dialog-external-url .ui-dialog-buttonpane button:eq(0)").css("float","right"),$(".ap-dialog-external-url .ui-dialog-buttonpane button:eq(1)").css("float","left"),$(".ap-dialog-external-url .ui-dialog-buttonpane, .ap-dialog-external-url .ui-dialog-titlebar").show(),e.success?(o.find("p:eq(0) > strong").text(e.result.Host),o.find("p:eq(0) > a").text(decodeURI(e.result.Url)).attr({href:$reportApi+"go?to="+e.result.Hash+"&next=do"}),$(".external-url").show(),o.dialog("option","position",{my:"center",at:"center",of:window})):n.text($.localize_report("Failed to get link.","~/wwwroot/js/common/plugins.js")).show()},error:function(e,t,i){401==e.status?window.location.href="/":($lockExternalUrl=!1,o.dialog("close"),(new DialogHelper).modalText($.localize_report("Failed to get link.","~/wwwroot/js/common/plugins.js")))}})}))}))},jQuery.fn.collapsePanel=function(e){e=e||{},$.extend({},e),this.each((function(){var t=$(this);$(document).ready((function(){t.find(".header:first button:nth-child(1)").click((function(o){if(o.preventDefault(),$(this).hasClass("disabled"))return!1;if(t.find(".collapse-panel-content").addClass("none"),$(this).closest(".bar").find("button").removeClass("disabled"),$(this).addClass("disabled"),null!=e.cookie){var i=$.parseJSON($.cookie("ap"));null==i&&(i={}),i[e.cookie]=0,$.cookie("ap",JSON.stringify(i),{expires:14,path:"/"})}})),t.find(".header:first button:nth-child(2)").click((function(o){if(o.preventDefault(),$(this).hasClass("disabled"))return!1;if(t.closest(".collapse-panel").find(".collapse-panel-content").removeClass("none"),$(this).closest(".bar").find("button").removeClass("disabled"),$(this).addClass("disabled"),null!=e.cookie){var i=$.parseJSON($.cookie("ap"));null==i&&(i={}),i[e.cookie]=1,$.cookie("ap",JSON.stringify(i),{expires:14,path:"/"})}}))}))}))},jQuery.fn.stickyMenu=function(e){var t=$.extend({},{stickyY:256,stickyYFunc:null,currentArea:null},e);this.each((function(){function e(){if((!t.currentArea||$(t.currentArea).is(":visible"))&&0!=o.length&&!o.hasClass("none")){var e=t.stickyY;t.stickyYFunc&&(e=t.stickyYFunc());var i=$(this).scrollLeft();i>0?o.css({left:-i,right:"auto"}):o.css({left:0,right:0}),$(this).scrollTop()>e?o.is(":visible")||o.show():o.is(":visible")&&o.hide()}}var o=$(this);$(window).scroll((function(){e()})),$(window).resize((function(){e()})),$(document).ready((function(){e()})),o.closest(".ui-tabs-panel").length>0&&o.closest(".ui-tabs-panel").on("show",(function(t){t.target===this&&e()})),o.on("show",(function(){var e=$("#menu-system");e.closest(".menu").find("nav").is(":visible")&&e.trigger("click")})),o.find("#sticky-up").click((function(e){e.preventDefault(),$("body,html").animate({scrollTop:0},200,(function(){}))}))}))},jQuery.fn.moreMenu=function(){this.each((function(){$(this).on("click",(function(e){e.preventDefault(),e.stopPropagation();var t=$(this);t.next().toggle(),$(document).one("click",(function e(o){0===t.next().has(o.target).length?t.next().hide():$(document).one("click",e)}))}))}))},jQuery.fn.reportMenu=function(){this.each((function(){function e(o){0===t.next().has(o.target).length?t.next().hide():$(document).one("click",e)}var t=$(this);t.on("click",(function(t){t.preventDefault(),t.stopPropagation();var o=$(this);o.next().toggle(),$(document).one("click",e),o.next().find(".close").on("click",(function(e){e.preventDefault(),$(this).closest("nav").hide()}))})),t.on("hide",(function(o){t.next().hide(),$(document).unbind("click",e)}))}))},function(e){function t(e){var t=parseInt(e.find(".current").text(),10),o=parseInt(e.find(".total").text(),10);1===t?e.find(".first,.previos").attr("disabled","disabled"):e.find(".first,.previos").removeAttr("disabled"),t>=o?e.find(".next,.last").attr("disabled","disabled"):e.find(".next,.last").removeAttr("disabled")}e(".paging").length>0&&e(".paging").each((function(){var o=e(this);t(o),o.find(".current").on("change",(function(){t(e(this).closest(".paging"))})),o.find("a").on("click",(function(t){e(this).attr("disabled")&&t.preventDefault()}))}))}(jQuery),jQuery.fn.symbolsCountdown=function(e){var t=$(this),o=$.extend({},{max:500},e),i=$("#"+t.attr("data-counter")),n=parseInt($(this).attr("maxlength"));t.keyup((function(){var e=t.val().length;if(e>=o.max){i.text("0");var a=t.val().substr(0,n);t.val(a)}else{var l=o.max-e;i.text(l)}}))},Array.prototype.remove=function(){for(var e,t,o=arguments,i=o.length;i&&this.length;)for(e=o[--i];-1!==(t=this.indexOf(e));)this.splice(t,1);return this},jQuery.fn.confirmIgnoredSources=function(e){this.each((function(){var t=$(this),o=function(){window.open(t.attr("href"),"_blank")};"function"==typeof e&&(o=e),t.click((function(e){if(e.preventDefault(),e.stopPropagation(),!$(this).data("open")){if($hasSourceIgnored){var i=$.localize_report("Attention! You have disabled some sources without exclude reason and comment.","~/wwwroot/js/common/plugins.js");return void(new DialogHelper).confirmHtml($.localize_report("Go to report printing","~/wwwroot/js/common/plugins.js"),i,(function(){if(!($(".main-inner > .report-formatting").length>0)){var e="";null!=$userId&&(e+="&userId="+$userId),null!=$correctionNr&&(e+="&c="+$correctionNr),null!==$reportId&&(e+="&v="+$reportId),"undefined"!=typeof $validationHash&&$validationHash&&(e+="&validationHash="+$validationHash),e.length>0&&(e="?"+e.substring(1,e.length)),window.location.href="/report"+("undefined"!=typeof $reportViewMode&&"ApiCorp"==$reportViewMode?"/byLink/apiCorp":"")+"/full/"+$documentId+e}}),$.localize_report("To report printing","~/wwwroot/js/common/plugins.js"),$.localize_report("Edit sources","~/wwwroot/js/common/plugins.js"),null,(function(){o.call(t)}))}o()}}))}))};var $monthNames=[$.localize_report("Jan","~/wwwroot/js/common/functions.js"),$.localize_report("Feb","~/wwwroot/js/common/functions.js"),$.localize_report("Mar","~/wwwroot/js/common/functions.js"),$.localize_report("Apr","~/wwwroot/js/common/functions.js"),$.localize_report("May","~/wwwroot/js/common/functions.js"),$.localize_report("Jun","~/wwwroot/js/common/functions.js"),$.localize_report("Jul","~/wwwroot/js/common/functions.js"),$.localize_report("Aug","~/wwwroot/js/common/functions.js"),$.localize_report("Sep","~/wwwroot/js/common/functions.js"),$.localize_report("Oct","~/wwwroot/js/common/functions.js"),$.localize_report("Nov","~/wwwroot/js/common/functions.js"),$.localize_report("Dec","~/wwwroot/js/common/functions.js")],queryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var i=t[o].split("=");if(void 0===e[i[0]])e[i[0]]=i[1];else if("string"==typeof e[i[0]]){var n=[e[i[0]],i[1]];e[i[0]]=n}else e[i[0]].push(i[1])}return e}(),getObjectSize=function(e){var t,o=0;for(t in e)e.hasOwnProperty(t)&&o++;return o};$.widget("ui.dialog",$.extend({},$.ui.dialog.prototype,{_title:function(e){this.options.title?e.html(this.options.title):e.html("&#160;")}}));var DialogHelper=function(e){this.$dialog=$("#dialog-template")};DialogHelper.prototype.modalText=function(e,t,o){null!=t||(t=$.localize_report("Close","~/wwwroot/js/common/dialog.js")),this.$dialog.dialog({resizable:!1,autoOpen:!1,dialogClass:"ap-dialog-alert",modal:!0,buttons:[{text:t,click:function(){$(this).dialog("close")}}],open:function(){var e=$(this);jQuery(".ui-widget-overlay").bind("click",(function(){e.dialog("close")}))},close:function(){null!=o&&o()},title:"",width:"auto",minWidth:300,closeText:$.localize_report("Close","~/wwwroot/js/common/dialog.js")});var i=$("<p />").attr("style","").html(e);return this.$dialog.find(".alert-error").text("").hide(),this.$dialog.find(".alert-success").text("").hide(),this.$dialog.html(i),this.$dialog.dialog("open"),!1},DialogHelper.prototype.modalHtml=function(e,t,o){return null!=t||(t=$.localize_report("Close","~/wwwroot/js/common/dialog.js")),this.$dialog.dialog({resizable:!1,autoOpen:!1,dialogClass:"ap-dialog-alert",modal:!0,buttons:[{text:t,click:function(){$(this).dialog("close")}}],open:function(){var e=$(this);jQuery(".ui-widget-overlay").bind("click",(function(){e.dialog("close")}))},close:function(){null!=o&&o()},title:"",width:"auto",minWidth:300,closeText:$.localize_report("Close","~/wwwroot/js/common/dialog.js")}),this.$dialog.find(".alert-error").text("").hide(),this.$dialog.find(".alert-success").text("").hide(),this.$dialog.html(e),this.$dialog.dialog("open"),!1},DialogHelper.prototype.confirmText=function(e,t,o,i,n,a,l){null!=i||(i=$.localize_report("Cancel","~/wwwroot/js/common/dialog.js")),null!=n||(n=$.localize_report("Confirm","~/wwwroot/js/common/dialog.js")),this.$dialog.dialog({autoOpen:!1,resizable:!1,modal:!0,draggable:!1,dialogClass:"ap-dialog-confirm",buttons:[{text:i,click:function(){null!=l&&l(),$(this).dialog("close")}},{text:n,click:function(){o(),$(this).dialog("close")}}],open:function(){var e=$(this);jQuery(".ui-widget-overlay").bind("click",(function(){e.dialog("close")}))},close:function(){null!=a&&a()},title:e,width:800,closeText:$.localize_report("Close","~/wwwroot/js/common/dialog.js")});var r=$("<p />").attr("style","").html(t);return this.$dialog.find(".alert-error").text("").hide(),this.$dialog.find(".alert-success").text("").hide(),this.$dialog.html(r),this.$dialog.dialog("open"),!1},DialogHelper.prototype.confirmHtml=function(e,t,o,i,n,a,l){return null!=i||(i=$.localize_report("Cancel","~/wwwroot/js/common/dialog.js")),null!=n||(n=$.localize_report("Confirm","~/wwwroot/js/common/dialog.js")),this.$dialog.dialog({autoOpen:!1,resizable:!1,modal:!0,draggable:!1,dialogClass:"ap-dialog-confirm",buttons:[{text:i,click:function(){null!=l&&l(),$(this).dialog("close")}},{text:n,click:function(){o(),$(this).dialog("close")}}],open:function(){var e=$(this);jQuery(".ui-widget-overlay").bind("click",(function(){e.dialog("close")}))},close:function(){null!=a&&a()},title:e,width:800,closeText:$.localize_report("Close","~/wwwroot/js/common/dialog.js")}),this.$dialog.find(".alert-error").text("").hide(),this.$dialog.find(".alert-success").text("").hide(),this.$dialog.html(t),this.$dialog.dialog("open"),!1},DialogHelper.prototype.confirmHtmlMultipleButtons=function(e,t,o,i,n){null!=i||(i=$.localize_report("Cancel","~/wwwroot/js/common/dialog.js"));for(var a=[{text:i,click:function(){$(this).dialog("close")}}],l=0;l<o.length;l++)a.push({text:o[l].text,click:o[l].callback,class:"multiple-button"});return this.$dialog.dialog({autoOpen:!1,resizable:!1,modal:!0,draggable:!1,dialogClass:"ap-dialog-confirm",buttons:a,open:function(){var e=$(this);jQuery(".ui-widget-overlay").bind("click",(function(){e.dialog("close")}))},close:function(){null!=n&&n()},title:e,width:800,closeText:$.localize_report("Close","~/wwwroot/js/common/dialog.js")}),this.$dialog.find(".alert-error").text("").hide(),this.$dialog.find(".alert-success").text("").hide(),this.$dialog.html(t),this.$dialog.dialog("open"),!1},DialogHelper.prototype.close=function(e,t,o,i,n){return this.$dialog.dialog("close"),!1},DialogHelper.prototype.alertShow=function(e){return this.$dialog.find(".alert-error").text(e).show(),this.$dialog.find(".alert-success").text("").hide(),!1},DialogHelper.prototype.alertHide=function(e){return this.$dialog.find(".alert-error").text("").hide(),this.$dialog.find(".alert-success").text("").hide(),!1},DialogHelper.prototype.successShow=function(e){return this.$dialog.find(".alert-success").text(e).show(),this.$dialog.find(".alert-error").text("").hide(),!1},DialogHelper.prototype.successHide=function(e){return this.$dialog.find(".alert-success").text("").hide(),this.$dialog.find(".alert-error").text("").hide(),!1},jQuery.fn.filtersPanel=function(e,t,o){function i(e){0!==u.find(".filter").has(e.target).length||$(e.target).closest("[class^='ui-datepicker']").length>0&&u.find("span.active").closest("th").find(".hasDatepicker").length>0?$(document).one("click",i):(u.find(".filter").find(".hasDatepicker").datepicker("hide"),u.find(".filter").closest("tr").find("span.active").removeClass("active"))}function n(e,t){var o=u.find(e.selector);if(e.type&&o.length>0)switch(e.type){case"word":case"date":e.value=encodeURIComponent($.trim(o.val()));break;case"radio":e.value=encodeURIComponent(o.filter(":checked").val());break;case"checkbox":var i=new Array;o.filter("[value]").length>0?o.filter(":checked").each((function(){i.push(encodeURIComponent($(this).val()))})):i.push(o.is(":checked")),e.value=i;break;case"select2":i=new Array;i=e.getFunc?e.getFunc.call(o):o.select2("data"),e.value=i}else e.value=e.defaultValue;return Array.isArray(e.value)?Array.isArray(e.defaultValue)?e.defaultValue.length!=e.value.length?(t&&o.closest(".filter").prev("span").addClass("active-filter"),!0):0!=e.value.length&&!e.value.every((function(t){return $(e.defaultValue).has(t)})):!(""==e.defaultValue&&0==e.value.length||1==e.value.length&&e.value[0]==e.defaultValue):e.value!=e.defaultValue&&(t&&o.closest(".filter").prev("span").addClass("active-filter"),!0)}function a(e){var t=e.defaultValue,o=u.find(e.selector);if(e.type&&o.length>0)switch(e.type){case"word":case"date":o.val(t);break;case"radio":o.removeAttr("checked"),o.filter("[value='"+t+"']").attr("checked","checked");break;case"checkbox":o.removeAttr("checked"),o.filter("[value]").length>0?Array.isArray(t)?t.forEach((function(e){o.filter("[value='"+e+"']").attr("checked","checked")})):o.filter("[value='"+t+"']").attr("checked","checked"):"boolean"==typeof t&&!0===t&&o.attr("checked","checked");break;case"select2":o.select2("val","")}}function l(){var e=u.find(".active-filter").length>0;u.find(".filter-cancel").toggleClass("none",!e)}var r=$.extend({},{scroll:!0,area:".general",scrollingPanel:".sticky",tableHeader:".items-header",scrollingPanelItem:".items"},o),s=new Array,c=this,u=$(this);$(document).ready((function(){$(e).each((function(){var e=this;if(null==e.selector||null==e.urlParam)return!1;var t=u.find(e.selector),o={selector:e.selector,urlParam:e.urlParam,getFunc:function(){return null}};if(void 0!==e.defaultValue?o.defaultValue=e.defaultValue:o.defaultValue="",e.getFunc&&"function"==typeof e.getFunc&&(o.getFunc=e.getFunc),t.length>0){var i=function(e){switch(e.closest(".filter-tip").find("div[class^='filter-']").attr("class").replace("filter-","")){case"word":return"word";case"dates":return"date";case"select":return"radio";case"select-multiple":return"checkbox";case"select2":return"select2"}return null}(t);if(null==i)return!1;if(o.type=i,e.setup&&"function"==typeof e.setup)e.setup.call(t);else if("date"==i)if(t.mask("00.00.0000",{clearIfNotMatch:!0}),t.data("period")){if("from"==t.data("period")){var n=t.closest(".filter-tip").find("input[data-period='to']");t.datepicker({minDate:"",dateFormat:"dd.mm.yy",onSelect:function(e){var o=$.datepicker.parseDate("dd.mm.yy",e);if(isValidDate(o)){var i=$.datepicker.parseDate("dd.mm.yy",n.val());isValidDate(i)&&o.valueOf()>i.valueOf()&&n.val(e)}t.change()}})}else if("to"==t.data("period")){var a=t.closest(".filter-tip").find("input[data-period='from']");t.datepicker({dateFormat:"dd.mm.yy",minDate:"",onSelect:function(e){var o=$.datepicker.parseDate("dd.mm.yy",e);if(isValidDate(o)){var i=$.datepicker.parseDate("dd.mm.yy",a.val());isValidDate(i)&&i.valueOf()>o.valueOf()&&a.val(e)}t.change()}})}}else t.datepicker({dateFormat:"dd.mm.yy",minDate:""})}s.push(o)})),$(s).each((function(){n(this,!0)})),l(),function(){function e(e){if("keyup"!=e.type||13==e.keyCode){e.preventDefault(),e.stopPropagation();var o=$(this).closest(".filter"),i=$.grep(s,(function(e){return o.find(e.selector).length>0})),a=!1;$(i).each((function(){var e=n(this);a=a||e})),o.find(".hasDatepicker").datepicker("hide"),o.prev("span").toggleClass("active-filter",a).removeClass("active"),l(),null!=t&&t()}}r.scroll&&($(r.scrollingPanel).on("show",(function(e){if($(this).is(e.target)){var t=$(this).find(r.scrollingPanelItem);if(0==t.find(r.tableHeader).length){var o=$(r.area).find(r.tableHeader),i=$("<div></div>").attr("class",o.attr("class"));o.after(i);var n=u.detach();t.append(n),$(r.tableHeader).find(".hasDatepicker").datepicker("hide")}}})),$(r.scrollingPanel).on("hide",(function(e){if($(this).is(e.target)){var t=$(this).find(r.tableHeader),o=$(r.area).find(r.tableHeader).not(t);if(0==o.children().length){var i=u.detach();o.replaceWith(i),$(r.tableHeader).find(".hasDatepicker").datepicker("hide")}}}))),u.find(".filter").children("i").click((function(e){e.preventDefault(),e.stopPropagation();var t=$(this).closest("th").children("span");t.hasClass("active")?($(this).closest(".filter").find(".hasDatepicker").datepicker("hide"),t.removeClass("active"),$(document).unbind("click",i)):($(this).closest("tr").find(".hasDatepicker").datepicker("hide"),t.addClass("active"),$(this).closest("tr").find("span.active").not(t).removeClass("active"),$(this).closest(".filter").find(".filter-word > input[type='text']").focus(),$(this).closest(".filter").trigger("updateTipVisability"),$(document).one("click",i))})),u.find(".filter").find("button.btn-submit").click(e),u.find(".filter").find(".filter-tip").keyup(e),u.find(".filter").find("button.btn-cancel").click((function(e){e.preventDefault(),e.stopPropagation();var o=$(this).closest(".filter"),i=$.grep(s,(function(e){return o.find(e.selector).length>0})),r=!1;$(i).each((function(){a(this);var e=n(this);r=r||e})),o.find(".hasDatepicker").datepicker("hide"),o.prev("span").toggleClass("active-filter",r).removeClass("active"),l(),null!=t&&t()})),u.find(".filter-cancel").click((function(e){e.preventDefault(),c.cleanFilters(),null!=t&&t()})),u.find(".filter").on("updateTipVisability",(function(e){var t=$(this).find(".filter-tip"),o=$(this).children("i"),i=$(this).closest("thead"),n=o.offset().left+t.outerWidth()-12,a=i.offset().left+i.outerWidth();t.toggleClass("filter-tip-right",n>=a)}))}()})),this.disableButtons=function(e){u.find(".filter button, .filter-cancel").prop("disabled",e)},this.cleanFilters=function(){u.find(".filter").each((function(){$filter=$(this);var e=$.grep(s,(function(e){return $filter.find(e.selector).length>0})),t=!1;$(e).each((function(){a(this);var e=n(this);t=t||e})),$filter.prev("span").toggleClass("active-filter",t)})),l()},this.getUrl=function(){var e="";return $(s).each((function(){var t=this,o="&"+t.urlParam+"=";void 0!==t.value&&(Array.isArray(t.value)?$(t.value).each((function(){e+=o+this})):e+=o+t.value)})),e},this.getData=function(){var e={};return $(s).each((function(){var t=this;void 0!==t.value&&(!Array.isArray(t.value)&&t.arrayResult?e[t.urlParam]=[t.value]:(Array.isArray(t.value)&&t.value.length,e[t.urlParam]=t.value))})),$.isEmptyObject(e)?null:e},this.getSearchMode=function(){return u.find(".filter").prev("span.active-filter").length>0},this.updateFilterInnerHtml=function(e,t,o,i){var a=$.grep(s,(function(t){return t.selector==e}));if(!a||0==a.length)return!1;var r=a[0],c=u.find(r.selector);if(0==c.length)return!1;var d=c.attr("name"),f=null;switch(r.type){case"word":case"date":break;case"radio":if(f=c.closest(".filter-select"),Array.isArray(t)&&t.length>0){for(var p="",h=0;h<t.length;h++){var g="";i&&(t[h].Selected=t[h].Value==r.value),t[h].Selected&&(g=' checked="checked"'),p+='<div>\n<input autocomplete="off" id="'+d+"_"+h+'" name="'+d+'" value="'+t[h].Value+'"'+g+' type="radio">\n<label class="radio" for="'+d+"_"+h+'"></label>\n<label class="text" for="'+d+"_"+h+'" title="'+t[h].Text+'">'+t[h].Text+"</label>\n</div>\n"}f.find(">div").remove(),f.prepend(p),void 0!==o&&(r.defaultValue=o);var m=n(r);f.closest(".filter").prev("span").toggleClass("active-filter",m),l()}}return!0}};